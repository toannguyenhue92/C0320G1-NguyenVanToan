<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <style>
    body {
      font-size: xx-large;
    }
  </style>
</head>

<body>
  <script>
    // Kiểm tra email
    let email;
    do {
      email = prompt("Nhập email", "toannguyen.hue92@gmail.com");
      let regex = /[a-zA-Z0-9.-]{1,250}@[a-zA-Z0-9-]{1,250}\.[a-zA-Z0-9]{2,3}/;
      if (!regex.test(email)) {
        email = undefined;
        alert("Email không hợp lệ!");
      }
    } while (email === undefined);

    // Kiểm tra CMND
    let identityNumber;
    do {
      identityNumber = prompt("Nhập số CMND", "123456789");
      let regex = /^\d{9}$/;
      if (!regex.test(identityNumber)) {
        alert("Số CMND gồm 9 chữ số");
        identityNumber = undefined;
      }
    } while (identityNumber === undefined);

    // Kiểm tra ngày sinh
    let birthday;
    do {
      birthday = prompt("Nhập ngày sinh", "13/04/1999");
      let regex = /\d{2}\/\d{2}\/\d{4}/;
      if (!regex.test(birthday)) {
        birthday = undefined;
        alert("Nhập ngày sinh có dạng DD/MM/YYYY");
      }
    } while (birthday === undefined);

    // Kiểm tra số ngày thuê
    let rentDays;
    do {
      rentDays = parseInt(prompt("Nhập số ngày thuê", "3"));
      if (rentDays <= 0) {
        rentDays = undefined;
        alert("Số ngày thuê phải lớn hơn 0!");
      }
    } while (rentDays === undefined);

    // Kiểm tra số khách đi kèm
    let guestCount;
    do {
      guestCount = parseInt(prompt("Nhập số khách đi kèm", "2"));
      if (guestCount < 0) {
        guestCount = undefined;
        alert("Số khách đi kèm bằng 0 hoặc lớn hơn!");
      }
    } while (guestCount === undefined);

    let guestName = prompt("Họ và tên", "  ngUYEn      thANH      KIEN");
    guestName = guestName.trim().toLowerCase();
    let result = [];
    result.push(guestName[0].toUpperCase());
    for (let i = 1; i < guestName.length; i++) {
      if (guestName[i] != " ") {
        if (guestName[i - 1] == " ") {
          result.push(guestName[i].toUpperCase());
        } else {
          result.push(guestName[i]);
        }
      } else if (guestName[i + 1] != " ") {
        result.push(guestName[i]);
      }

    }
    result = result.join("");

    document.write(`Họ và tên : ${result}`);
    document.write("<br>");
    document.write(`email : ${email}`);
    document.write("<br>");
    document.write(`số CMND: ${identityNumber}`);
    document.write("<br>");
    document.write(`ngày sinh: ${birthday}`);
    document.write("<br>");
    document.write(`số ngày thuê: ${rentDays}`);
    document.write("<br>");
    document.write(`số khách đi kèm: ${guestCount}`);
    document.write("<br>");
  </script>
</body>

</html>